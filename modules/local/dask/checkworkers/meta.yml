name: dask_checkworker
description: Check if a worker is running
keywords:
  - dask
tools:
  - dask:
      description: Dask is a flexible library for parallel computing in Python.
      homepage: https://www.dask.org/
      documentation: https://docs.dask.org/en/stable/
      tool_dev_url: https://github.com/dask/dask
      licence: ["BSD 3-Clause License"]

input:
  - args:
      type: map
      description: |
        Groovy Map containing tool parameters. MUST follow the structure/keywords below and be provided via modules.config. Parameters must be set between quotes. (optional) parameters can be removed from the map, if they are not set. For default values, please check the documentation above.

        ```
        {
          [
            "dask_scheduler_port": (optional),
            "dask_worker_start_timeout_secs": 120,
            "dask_worker_poll_interval_secs": 5,
          ]
        }
        ```
  - meta:
      type: map
  - scheduler_address:
      type: string
      description: |
        Scheduler's IP address
  - cluster_work_dir:
      type: path
      description: |
        The cluster work directory where the scheduler will run
  - total_workers:
      type: int
      description: |
        Total number of workers in the cluster
  - required_workers:
      type: int
      description: |
        Number of workers that should be available before the cluster is being used 

output:
  - meta:
      type: map
  - scheduler_address:
      type: string
      description: |
        Scheduler's IP address
  - cluster_work_fullpath:
      type: string
      description: |
        Full path to the cluster work directory where the scheduler is running
  - available_workers:
      type: int
      description: |
        Number of workers that are ready
  - versions:
      type: string
      description: |
        Software versions file

authors:
  - "@cgoina"
